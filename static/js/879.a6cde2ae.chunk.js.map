{"version":3,"file":"static/js/879.a6cde2ae.chunk.js","mappings":"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","sources":["Componets/Products/Products.jsx","Hooks/useApi.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport useApi from '../../Hooks/useApi'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { CartContext } from '../../Context/CartContext'\r\nimport { toast } from 'react-hot-toast'\r\n\r\nexport default  function Products() {\r\n  let navigate = useNavigate()\r\n  const {addToCart} = useContext(CartContext)\r\n  const [currentPage ,setCurrentPage]= useState(1)\r\n  const pages=[1,2]\r\n  const { products } =  useApi(`https://ecommerce.routemisr.com/api/v1/products?page=${currentPage}`)\r\n\r\n \r\n\r\n async function addToCartFun(id)\r\n  { \r\n  if(localStorage.getItem('token'))\r\n  {\r\n    let data =  await addToCart(id)\r\n    if(data.status == 'success')\r\n     {\r\n       toast.success('your product added successful')\r\n     }\r\n     else\r\n     {\r\n       toast.error(data.message)\r\n     }\r\n  }\r\n  else\r\n    navigate('/login')\r\n  }\r\n\r\n  return ( \r\n    <div className=\"row py-5 g-4\" id=\"products\">\r\n      {products.length > 0 ? products.map((product) => <div key={product._id} style={{ cursor: 'pointer' }} className='col-md-3'>\r\n        <div className=\"productItem p-3 shadow-sm text-center\" style={{ backgroundColor: '#F8F9FA' }}>\r\n         <Link to={product._id} style={{textDecoration:'none',color:'unset'}}>\r\n         <img src={product.imageCover} className='w-50' alt=\"\" />\r\n         </Link>\r\n          <p style={{ color: '#1CB21C' }} className='my-2'>{product.title.split(\" \").slice(0, 2).join(\" \")}</p>\r\n          <span>{product.ratingsAverage} <i className='fa-solid fa-star text-warning'></i></span>\r\n          <button className='btn btn-outline-success d-block mx-auto my-2 opacity-1 ' onClick={()=>{addToCartFun(product._id)}}>Add to cart</button>\r\n    \r\n        </div>\r\n      </div>) : 'loading'}\r\n\r\n     \r\n    </div>\r\n  )\r\n}\r\n","import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\n\r\nexport default  function useApi(url)\r\n{\r\n    const [products,setproducts] = useState([]) \r\n    const [categories,setcategories] = useState([]) \r\n    \r\n   async function getData()\r\n   {\r\n    try {\r\n        const {data} = await axios.get(url)\r\n        setproducts(data.data)\r\n        setcategories(data.data)\r\n       } catch (error) {\r\n         console.log(error)\r\n       }      \r\n   }\r\n\r\n   useEffect(()=>{\r\n     getData()\r\n   },[])\r\n\r\n   return {products,categories}\r\n}"],"names":["Products","navigate","useNavigate","addToCart","useContext","CartContext","_useState","useState","_useState2","_slicedToArray","currentPage","products","useApi","concat","_addToCartFun","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","data","wrap","_context","prev","next","localStorage","getItem","sent","status","toast","success","error","message","stop","apply","arguments","_jsx","className","children","length","map","product","style","cursor","_jsxs","backgroundColor","Link","to","_id","textDecoration","color","src","imageCover","alt","title","split","slice","join","ratingsAverage","onClick","_x","addToCartFun","url","setproducts","_useState3","_useState4","categories","setcategories","_getData","_yield$axios$get","axios","get","t0","console","log","useEffect","getData"],"sourceRoot":""}