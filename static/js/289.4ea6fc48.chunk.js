"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[289],{5289:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var s=n(4165),r=n(5861),c=n(9439),i=n(2791),a=n(3926),l=n(7689),u=n(3402),o=n(184);function d(){var t=(0,l.s0)(),e=(0,i.useContext)(a.A),n=e.getFromCart,d=e.UpdateCart,h=e.DeleteItem,p=(0,i.useState)([]),x=(0,c.Z)(p,2),f=x[0],m=x[1];function j(){return(j=(0,r.Z)((0,s.Z)().mark((function t(){var e;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:"success"==(e=t.sent).status&&m(e.data.products);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)((0,s.Z)().mark((function t(e,n){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e,n);case 2:"success"==(r=t.sent).status&&m(r.data.products),0==n&&k(e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)((0,s.Z)().mark((function t(e){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:n=t.sent,m(n.data.products);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,i.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]),(0,o.jsxs)("div",{children:[f.length>0?(0,o.jsxs)("table",{className:"table text-center my-5 table-striped ",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Index"}),(0,o.jsx)("th",{children:"Title"}),(0,o.jsx)("th",{children:"price"}),(0,o.jsx)("th",{children:"Image"}),(0,o.jsx)("th",{children:"Count"}),(0,o.jsx)("th",{children:"Remove"})]})}),(0,o.jsx)("tbody",{children:f.length>0?f.map((function(t,e){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:{lineHeight:"100px"},children:e+1}),(0,o.jsx)("td",{style:{lineHeight:"100px"},children:t.product.title}),(0,o.jsx)("td",{style:{lineHeight:"100px"},children:t.price}),(0,o.jsx)("td",{style:{lineHeight:"100px"},children:(0,o.jsx)("img",{src:t.product.imageCover,style:{height:"100px"},alt:""})}),(0,o.jsxs)("td",{style:{lineHeight:"100px"},children:[(0,o.jsx)("i",{style:{cursor:"pointer"},className:"fa-solid fa-chevron-left",onClick:function(){y(t.product._id,t.count-1)}}),(0,o.jsx)("span",{className:"mx-2",children:t.count}),(0,o.jsx)("i",{style:{cursor:"pointer"},className:"fa-solid fa-chevron-right",onClick:function(){y(t.product._id,t.count+1)}})]}),(0,o.jsx)("td",{children:(0,o.jsx)("i",{style:{lineHeight:"100px",cursor:"pointer"},className:"fa-solid fa-trash text-danger",onClick:function(){k(t.product._id)}})})]},t._id)})):"loading"})]}):(0,o.jsx)("h2",{className:"my-4 text-success",children:"your Cart is empty"}),(0,o.jsx)("button",{className:"btn btn-success",onClick:function(){localStorage.getItem("token")?t("/checkout"):(0,u.Am)((0,o.jsx)("p",{children:"you should log in first"}))},children:"CheckOut"})]})}}}]);
//# sourceMappingURL=289.4ea6fc48.chunk.js.map