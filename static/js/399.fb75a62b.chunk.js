"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[399],{8399:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r,s=n(4165),c=n(1413),o=n(5861),a=n(2791),i=n(799),u=n(7689),d=n(5717),l={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},p=new Uint8Array(16);function f(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(p)}for(var m=[],h=0;h<256;++h)m.push((h+256).toString(16).slice(1));function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(m[e[t+0]]+m[e[t+1]]+m[e[t+2]]+m[e[t+3]]+"-"+m[e[t+4]]+m[e[t+5]]+"-"+m[e[t+6]]+m[e[t+7]]+"-"+m[e[t+8]]+m[e[t+9]]+"-"+m[e[t+10]]+m[e[t+11]]+m[e[t+12]]+m[e[t+13]]+m[e[t+14]]+m[e[t+15]]).toLowerCase()}var g=function(e,t,n){if(l.randomUUID&&!t&&!e)return l.randomUUID();var r=(e=e||{}).random||(e.rng||f)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return x(r)},v=n(3926),y=n(3402),b=n(184);function j(){var e=(0,u.s0)(),t=(0,u.UO)().id,n=(0,i.Z)("https://ecommerce.routemisr.com/api/v1/products/".concat(t)).products,r=(0,a.useContext)(v.A).addToCart;function l(){return l=(0,o.Z)((0,s.Z)().mark((function t(n){var c;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem("token")){t.next=7;break}return t.next=3,r(n);case 3:"success"==(c=t.sent).status?y.Am.success("your product added successful"):y.Am.error(c.message),t.next=8;break;case 7:e("/login");case 8:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}return(0,b.jsxs)("div",{className:"row my-5 justify-content-between",children:[(0,b.jsx)("div",{className:"col-md-3",children:n.images?(0,b.jsx)(d.Z,(0,c.Z)((0,c.Z)({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:n.images.map((function(e){return(0,b.jsx)("div",{className:"position-relative bg-info d-block",children:(0,b.jsx)("img",{src:e,alt:e.name,className:"w-100"},g())},e)}))})):"loading"}),(0,b.jsxs)("div",{className:"col-md-8 d-flex flex-column justify-content-center",children:[(0,b.jsx)("p",{children:n.description}),(0,b.jsx)("p",{children:n.title}),(0,b.jsxs)("div",{className:"box d-flex justify-content-between align-items-center my-4",children:[n.subcategory?(0,b.jsx)("p",{className:"fw-bold",children:n.subcategory[0].name}):"",(0,b.jsxs)("p",{children:[n.ratingsAverage," ",(0,b.jsx)("i",{className:"fa-solid fa-star text-warning"})]})]}),(0,b.jsxs)("p",{children:[n.price,"$"]}),(0,b.jsx)("button",{className:"btn btn-outline-success form-control my-3",onClick:function(){!function(e){l.apply(this,arguments)}(n._id)},children:"Add to cart"})]})]})}},799:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(4165),s=n(5861),c=n(9439),o=n(1243),a=n(2791);function i(e){var t=(0,a.useState)([]),n=(0,c.Z)(t,2),i=n[0],u=n[1],d=(0,a.useState)([]),l=(0,c.Z)(d,2),p=l[0],f=l[1];function m(){return(m=(0,s.Z)((0,r.Z)().mark((function t(){var n,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get(e);case 3:n=t.sent,s=n.data,u(s.data),f(s.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return(0,a.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),{products:i,categories:p}}}}]);
//# sourceMappingURL=399.fb75a62b.chunk.js.map